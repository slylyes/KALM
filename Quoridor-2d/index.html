<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quoridor</title>
    <link rel="stylesheet" href="style.css">
    <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon">
    <style>
        /* Player-colored walls */
        .wall-rouge, .walls-list-item.wall-rouge, .walls-list-horizon.wall-rouge {
            background-color: #ff6b6b !important;
        }
        .wall-bleu, .walls-list-item.wall-bleu, .walls-list-horizon.wall-bleu {
            background-color: #6b9fff !important;
        }
        .wall-vert, .walls-list-item.wall-vert, .walls-list-horizon.wall-vert {
            background-color: #6bff6b !important;
        }
        .wall-violet, .walls-list-item.wall-violet, .walls-list-horizon.wall-violet {
            background-color: #d46bff !important;
        }
        
        /* Highlight current player's square with background color */
        .current-player-square {
            background-color: rgba(255, 255, 0, 0.4) !important;
            z-index: 2;
        }
        
        /* Highlight current player's walls container with background color */
        .active-walls {
            background-color: rgba(255, 255, 0, 0.25) !important;
            border: 2px solid rgba(255, 255, 0, 0.5) !important;
            z-index: 2;
        }
        
        /* Make placed walls more visible with player colors */
        .vertical-wall.stay-visible, .horizontal-wall.stay-visible {
            opacity: 0.9 !important;
        }
        
        /* Ensure the pawn color is still visible on highlighted squares */
        .square[data-pawn="rouge"].current-player-square::after {
            background-color: #ff6b6b;
        }
        .square[data-pawn="bleu"].current-player-square::after {
            background-color: #6b9fff;
        }
        .square[data-pawn="vert"].current-player-square::after {
            background-color: #6bff6b;
        }
        .square[data-pawn="violet"].current-player-square::after {
            background-color: #d46bff;
        }
    </style>
</head>
<body>


    <div class="audio-controls">
  <button onclick="document.getElementById('musique').play()">Lancer la musique</button>
  <button onclick="document.getElementById('musique').pause()">Pause</button>
</div>


<audio id="musique" loop>
  <source src="audio/melody-of-nature-main-6672.mp3" type="audio/mpeg">
</audio>


    <div class="contenu">
        <div class="info-wrapper">
            <p><b>Au tour du pion bleu de jouer</b><br>Mode selectionné : <i>1 joueur</i></p>
            <div class="buttons-wrapper">
                <button onclick="switchNumOfPlayers(1)">1 joueur (vs IA)</button>
                <button onclick="switchNumOfPlayers(2)">2 joueurs</button>
                <button onclick="switchNumOfPlayers(4)">4 joueurs</button>
                <button onclick="showGameRules()">Règles du jeu</button>
            </div>

        </div>

        <div class="global">
            <div class="walls-horizon-container" id="walls4"></div>
            <div class="walls-container" id="walls1"></div>
            <div class="squares-container"></div>
            <div class="walls-container" id="walls2"></div>
            <div class="walls-horizon-container" id="walls3"></div>
        </div>
    </div>
    <!-- Message box personnalisée -->
    <div id="win-modal" class="modal" style="display:none;">
        <div class="modal-content">
            <span id="win-close" class="close">&times;</span>
            <h2 id="win-title"></h2>
            <button id="win-reload">Rejouer</button>
        </div>
    </div>

    <!--⬇ Background image ⬇-->
    <div class="background-div"></div>

    <!--⬇ Règles du jeu Modal ⬇-->
    <div id="rules-modal" class="modal" style="display:none;">
        <div class="modal-content">
            <span id="rules-close" class="close">&times;</span>
            <h2>Règles du jeu Quoridor</h2>
            <p>
                Quoridor est un jeu de stratégie où chaque joueur doit amener son pion jusqu'à la rangée opposée du plateau, 
                en déplaçant son pion d'une case à la fois ou en plaçant des murs pour ralentir son adversaire. <br> Chaque joueur dispose 
                de murs qu'il peut positionner entre deux cases, à condition de ne jamais bloquer complètement l'accès à la ligne d'arrivée.
                 Les déplacements se font orthogonalement, avec la possibilité de sauter par-dessus l'adversaire ou de contourner si un mur 
                 bloque. Le premier joueur à atteindre la rangée opposée remporte la partie.
            </p>
            <button id="rules-ok">OK</button>
        </div>
    </div>

    <!--⬇ JavaScript ⬇-->
    <script type="module" src="app.js"></script>
    
</body>
</html>